@(routerId : Long,span : String,routerInfo : List[RouterInfo])


@scripts = {
　　 $(function(){
update("../../json/@span/1");
})

function threeHours(){
update("../../json/three_hours/1");
}
function oneDay(){
update("../../json/one_day/1");
}
function threeDays(){
update("../../json/three_days/1");
}

function update( url ) {

$.get(url,function(r){
console.log(JSON.stringify(r));

@for(ri <- routerInfo){
var ctx = $("#@ri.sensor").get(0).getContext("2d");
ctx.canvas.width = window.innerWidth - 40;
var chart = new Chart(ctx);

var data = r["@ri.sensor"];
chart.Line(data,{
scaleOverride : true,
scaleStartValue : 0,
scaleSteps : 3,
scaleStepWidth : 5,
scaleFontSize : 25,
animation : false
});
}

});
}

}


@chart_base("水位情報",span,routerId,scripts) {

@for(r <- routerInfo){
<div class="panel panel-success">
    <div class="panel-heading">
        @{r.name}(@r.sensor)
    </div>
    <div class="panel-body">
        <div>水位[cm]</div>
        <canvas id="@r.sensor" width="300" height="300"></canvas>
    </div>
</div>
}






}
